imports:
  MerchantOperatingCity: Domain.Types.Merchant.MerchantOperatingCity
  SeatManagement: Domain.Types.SeatManagement
  TicketServiceCategory: Domain.Types.TicketServiceCategory
  ServiceCategory: Domain.Types.ServiceCategory
  BusinessHour: Domain.Types.BusinessHour
  BusinessHourType: Domain.Types.BusinessHourType
  ServicePeopleCategory: Domain.Types.ServicePeopleCategory
  Timings: Domain.Types.Timings
  SpecialDates: Domain.Types.SpecialDates
  SpecialDayType: Domain.Types.SpecialDatesType
  TicketPlaceV1: Domain.Types.TicketPlaceV1
  TicketServiceV1: Domain.Types.TicketServiceV1

TicketPlaceV1:
  tableName: ticker_place

  fields:
    id : Id TicketPlaceV1
    merchantOperatingCityId : Id MerchantOperatingCity
    name : Text
    description : Maybe Text
    lat : Maybe Double
    lon : Maybe Double
    gallery : [Text]
    shortDesc : Text
    iconUrl : Maybe Text
    mapImageUrl : Maybe Text
    openTimings : Maybe TimeOfDay
    closeTimings : Maybe TimeOfDay

  constraints:
    id: PrimaryKey|NotNull
    name: NotNull
    shortDesc: NotNull

TicketServiceV1:
  tableName : ticket_service

  fields :
    id : Id TicketServiceV1
    placeId : Text
    serviceName : Text
    shortDesc : Text
    operationalDays : [Day]
    bussinessHours : Text #Timings

  sqlType:
    bussinessHours: text

  constraints :
    id : PrimaryKey | NotNull
    serviceName : NotNull
    placeId : NotNull
    shortDesc : NotNull
    bussinessHours : NotNull
    operationalDays : NotNull


SpecialDates:
  tableName : special_dates

  fields :
    id : Id SpecialDates
    entityId : Text
    date : Day
    specialDays : Text #SpecialDayType
    businessHours : Text

  sqlType:
    businessHours : Text

  constraints :
    id : PrimaryKey | NotNull
    date : NotNull
    specialDays : NotNull
    businessHours : NotNull
    entityId : NotNull


BusinessHour:
  tableName: business_hour

  fields:
    id: Id BusinessHour
    btype: Text
    categoryId: Id ServiceCategory

  constraints :
    id : PrimaryKey | NotNull
    btype : NotNull
    categoryId : NotNull

  sqlType:
    btype: text


ServiceCategory:
  tableName: service_category

  fields:
    id: Id ServiceCategory
    name: Text
    description: Text
    availableSeats: Int

  constraints :
    id : PrimaryKey | NotNull
    name : NotNull
    description : NotNull
    availableSeats : NotNull


ServicePeopleCategory:
  tableName: service_people_category

  fields:
    id: Id ServicePeopleCategory
    serviceCategoryId: Id ServiceCategory
    name: Text
    pricePerUnit: Int

  constraints :
    id : PrimaryKey|NotNull
    serviceCategoryId : NotNull
    name : NotNull
    pricePerUnit : NotNull


SeatManagement:
  tableName: seat_management

  fields:
    id: Id SeatManagement
    date: Day
    ticketServiceCategoryId: Text
    booked: Int
    blocked: Int

  constraints :
    id : PrimaryKey|NotNull
    date : NotNull
    ticketServiceCategoryId : NotNull
    booked : NotNull
    blocked : NotNull